<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process T1-weighted Brain MRI Data with FSL and Register to EVE Atlas — eve_T1 • MRIreduce</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process T1-weighted Brain MRI Data with FSL and Register to EVE Atlas — eve_T1"><meta name="description" content="This function takes a T1-weighted brain MRI image, performs bias correction,
reorientation to standard space, brain extraction using FSL's BET, and registration
to the EVE brain template. It then segments the brain volume into different tissue
types, calculates intracranial volume and outputs the results as an Rdata file."><meta property="og:description" content="This function takes a T1-weighted brain MRI image, performs bias correction,
reorientation to standard space, brain extraction using FSL's BET, and registration
to the EVE brain template. It then segments the brain volume into different tissue
types, calculates intracranial volume and outputs the results as an Rdata file."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MRIreduce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/MRIreduce.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/USCbiostats/MRIreduce"><span class="fa fab fa-github"></span> View on source code</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Process T1-weighted Brain MRI Data with FSL and Register to EVE Atlas</h1>
      <small class="dont-index">Source: <a href="https://github.com/USCbiostats/MRIreduce/blob/main/R/eve_T1.R" class="external-link"><code>R/eve_T1.R</code></a></small>
      <div class="d-none name"><code>eve_T1.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes a T1-weighted brain MRI image, performs bias correction,
reorientation to standard space, brain extraction using FSL's BET, and registration
to the EVE brain template. It then segments the brain volume into different tissue
types, calculates intracranial volume and outputs the results as an Rdata file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">eve_T1</span><span class="op">(</span></span>
<span>  <span class="va">fpath</span>,</span>
<span>  <span class="va">outpath</span>,</span>
<span>  fsl_path <span class="op">=</span> <span class="st">"/Users/jinyaotian/fsl"</span>,</span>
<span>  fsl_outputtype <span class="op">=</span> <span class="st">"NIFTI_GZ"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fpath">fpath<a class="anchor" aria-label="anchor" href="#arg-fpath"></a></dt>
<dd><p>Character string specifying the path to one T1-weighted MRI file. The file should be in NIFTI file format (.nii.gz).</p></dd>


<dt id="arg-outpath">outpath<a class="anchor" aria-label="anchor" href="#arg-outpath"></a></dt>
<dd><p>Character string specifying the output directory where the results
will be saved as an Rdata file.</p></dd>


<dt id="arg-fsl-path">fsl_path<a class="anchor" aria-label="anchor" href="#arg-fsl-path"></a></dt>
<dd><p>Character string specifying the directory where FSL is installed.</p></dd>


<dt id="arg-fsl-outputtype">fsl_outputtype<a class="anchor" aria-label="anchor" href="#arg-fsl-outputtype"></a></dt>
<dd><p>Character string specifying the FSL output file type.
Defaults to "NIFTI_GZ".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Saves the image data after processing to the specified output path.
Outputs an Rdata file containing three components: image intensities array,
segmented tissues array, and brain volume metrics.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function begins by loading the EVE brain template for image registration. It then reads the
T1-weighted MRI file and reorients it to standard space using FSL's <code>fslreorient2std</code>.
Following reorientation, it applies bias correction with FSL's <code>fsl_biascorrect</code>, which
is necessary to correct for field inhomogeneities that can affect quantitative analysis.
The next step involves using FSL’s Brain Extraction Tool (BET) to isolate the brain from
non-brain tissue which is crucial for accurate subsequent analysis.
After brain extraction, the image is registered to the EVE brain atlas using FLIRT,
ensuring that the image is aligned with a standard coordinate space for comparable
anatomical analysis. Subsequent to registration, the function uses FSL's FAST tool to
segment the brain into white matter, grey matter, and cerebrospinal fluid, which
are essential for studying brain structure and pathology. Finally, it calculates the
volume of these tissues, providing key data points for clinical and research applications.
Each step logs its progress with timestamps, aiding in debugging and optimization of processing times.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Not run:</span></span></span>
<span class="r-in"><span><span class="fu">eve_T1</span><span class="op">(</span><span class="st">"path/to/your/image.nii.gz"</span>, <span class="st">"path/to/output"</span>, <span class="st">"/usr/local/fsl"</span>,  <span class="st">"NIFTI_GZ"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2024-09-24 19:22:58.492996 Reading image: path/to/your/image.nii.gz"</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in oro.nifti::readNIfTI(..., reorient = reorient):</span> File(s) not found!</span>
<span class="r-in"><span><span class="co">## End(Not run)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua Milstein, Jinyao Tian.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

