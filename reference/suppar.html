<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Super Partitioning of Variables Based on Correlation — suppar • MRIreduce</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Super Partitioning of Variables Based on Correlation — suppar"><meta name="description" content="This function identifies and groups highly correlated variables into modules
from a given dataset using a series of correlation computations stored across
temporary files. It utilizes a hierarchical chunk processing method to handle
large datasets."><meta property="og:description" content="This function identifies and groups highly correlated variables into modules
from a given dataset using a series of correlation computations stored across
temporary files. It utilizes a hierarchical chunk processing method to handle
large datasets."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MRIreduce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/MRIreduce.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/jtian123/MRIreduce"><span class="fa fab fa-github"></span> View on source code</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Super Partitioning of Variables Based on Correlation</h1>
      <small class="dont-index">Source: <a href="https://github.com/jtian123/MRIreduce/blob/main/R/suppar_source.R" class="external-link"><code>R/suppar_source.R</code></a></small>
      <div class="d-none name"><code>suppar.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function identifies and groups highly correlated variables into modules
from a given dataset using a series of correlation computations stored across
temporary files. It utilizes a hierarchical chunk processing method to handle
large datasets.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">suppar</span><span class="op">(</span></span>
<span>  <span class="va">tmp</span>,</span>
<span>  thresh <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n.chunkf <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  B <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>  compute.corr <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dist.thresh <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">dir.tmp</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tmp">tmp<a class="anchor" aria-label="anchor" href="#arg-tmp"></a></dt>
<dd><p>A data frame or matrix of data to be analyzed.</p></dd>


<dt id="arg-thresh">thresh<a class="anchor" aria-label="anchor" href="#arg-thresh"></a></dt>
<dd><p>Numeric vector; thresholds for defining the correlation strength
necessary to consider two variables as connected or dependent. The function
creates modules of variables that have correlations above these thresholds.</p></dd>


<dt id="arg-n-chunkf">n.chunkf<a class="anchor" aria-label="anchor" href="#arg-n-chunkf"></a></dt>
<dd><p>Integer; the number of features to process per chunk in the
correlation analysis.</p></dd>


<dt id="arg-b">B<a class="anchor" aria-label="anchor" href="#arg-b"></a></dt>
<dd><p>Integer; the maximum size of a module. If a module reaches this size,
it will not be merged with other modules even if its members are correlated
with members of another module.</p></dd>


<dt id="arg-compute-corr">compute.corr<a class="anchor" aria-label="anchor" href="#arg-compute-corr"></a></dt>
<dd><p>Logical; should the correlation be computed (TRUE) or
pre-computed correlations be used (FALSE).</p></dd>


<dt id="arg-dist-thresh">dist.thresh<a class="anchor" aria-label="anchor" href="#arg-dist-thresh"></a></dt>
<dd><p>Optional; a distance threshold to apply before computing
correlations, allowing for spatial constraints on correlation computation.</p></dd>


<dt id="arg-dir-tmp">dir.tmp<a class="anchor" aria-label="anchor" href="#arg-dir-tmp"></a></dt>
<dd><p>Directory path where temporary correlation files are stored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing two elements:
- A list of character vectors, where each vector contains the names of
variables that form a module.
- A character vector of independent variables not included in any module.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>suppar</code> function starts by setting up the environment and preparing the data.
If <code>compute.corr</code> is TRUE, it computes the correlation and stores the results in
temporary files in <code>dir.tmp</code>. It then loads these files one by one, aggregates
correlated variables into groups using the <code>partagg</code> function, and finally,
it cleans up the temporary files.</p>
<p>The <code>corfun1</code> and <code>corfun2</code> are helper functions called within <code>suppar</code> to manage
the computation of correlations in chunks and saving those in a manageable manner,
which helps in processing large datasets without overwhelming memory resources.</p>
<p><code>partagg</code>, an Rcpp function, efficiently processes and aggregates variables into
modules based on the correlation data read from the temporary files. It ensures
that the size of any module does not exceed the <code>B</code> parameter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">suppar</span><span class="op">(</span>tmp <span class="op">=</span> <span class="va">data</span>, thresh <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.3</span>, <span class="fl">0.1</span><span class="op">)</span>, n.chunkf <span class="op">=</span> <span class="fl">100</span>, B <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>       compute.corr <span class="op">=</span> <span class="cn">TRUE</span>, dir.tmp <span class="op">=</span> <span class="st">"path/to/tempdir"</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in 1:ncol(tmp):</span> argument of length 0</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua Milstein, Jinyao Tian.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

